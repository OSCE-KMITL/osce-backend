Index: schema.gql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># -----------------------------------------------\n# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!\n# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!\n# -----------------------------------------------\n\ntype Account {\n  created_at: DateTime!\n  email: String!\n  id: String!\n  is_advisor: Advisor\n  is_company: CompanyPerson\n  is_student: Student\n  password: String!\n  profile_image: String\n  role: Role!\n  status: String!\n  updated_at: DateTime!\n}\n\ntype Advisor {\n  account: Account!\n  advisor_id: String!\n  announcements: [Announcement]!\n  created_at: DateTime!\n  department: String!\n  faculty: String!\n  is_committee: Boolean!\n  last_name: String!\n  name: String!\n  name_prefix: String\n  students: [Student]!\n  updated_at: DateTime!\n}\n\ninput AdvisorAccountInput {\n  department: String!\n  email: String!\n  faculty: String!\n  is_committee: Boolean!\n  last_name: String!\n  name: String!\n  name_prefix: String!\n  password: String!\n}\n\ntype Announcement {\n  advisor_id: Advisor!\n  createdAt: DateTime!\n  description: String!\n  id: String!\n  title: String!\n  updatedAt: DateTime!\n}\n\ninput AnnouncementInput {\n  desc: String!\n  title: String!\n}\n\ntype AuthData {\n  created_at: DateTime!\n  email: String!\n  id: String!\n  is_advisor: Advisor\n  is_company: CompanyPerson\n  is_student: Student\n  password: String!\n  profile_image: String\n  role: Role!\n  status: String!\n  token: String!\n  updated_at: DateTime!\n}\n\ninput CommitteeCoopRegisterArgs {\n  coop_status: String\n  curriculum_id: String\n  curriculum_name_en: String\n  curriculum_name_th: String\n  department_id: String\n  department_name_en: String\n  department_name_th: String\n  faculty_id: String\n  faculty_name_en: String\n  faculty_name_th: String\n  lastname_th: String\n  level_id: String\n  name_prefix: String\n  name_th: String\n  student_id: String!\n}\n\ntype Company {\n  address: String!\n  business_type: String!\n  company_persons: [CompanyPerson]!\n  created_at: DateTime!\n  district: String!\n  id: String!\n  job: [Job]!\n  name_eng: String!\n  name_th: String!\n  phone_number: String!\n  postal_code: String!\n  province: String!\n  sub_district: String!\n  updated_at: DateTime!\n  website_url: String!\n}\n\ninput CompanyInput {\n  address: String!\n  business_type: String!\n  district: String!\n  name_eng: String!\n  name_th: String!\n  phone_number: String!\n  postal_code: String!\n  province: String!\n  sub_district: String!\n  website_url: String!\n}\n\ntype CompanyPerson {\n  account: Account!\n  company_id: Company\n  company_person_id: String!\n  created_at: DateTime!\n  email: String!\n  full_name: String!\n  is_coordinator: Boolean!\n  job_title: String!\n  phone_number: String!\n  updated_at: DateTime!\n}\n\ninput CompanyPersonInput {\n  company_id: String!\n  email: String!\n  full_name: String!\n  is_coordinator: Boolean!\n  job_title: String!\n  password: String!\n  phone_number: String!\n}\n\ninput CoopRegisterArgs {\n  address: String\n  birth_date: String\n  citizen_id: String\n  coop_status: String\n  curriculum_id: String\n  curriculum_name_en: String\n  curriculum_name_th: String\n  department_id: String\n  department_name_en: String\n  department_name_th: String\n  driver_license: Boolean\n  emer_lastname: String\n  emer_name: String\n  emer_relation: String\n  emer_tel: String\n  faculty_id: String\n  faculty_name_en: String\n  faculty_name_th: String\n  gender: String\n  gpa: String\n  height: String\n  lastname_th: String\n  level_id: String\n  military_status: Boolean\n  name_prefix: String\n  name_th: String\n  phone_number: String\n  religion: String\n  student_id: String!\n  weight: String\n}\n\n\"\"\"status of coop \"\"\"\nenum CoopStatus {\n  APPLYING\n  DEFAULT\n  PASSED\n  REJECTED\n  SAVED\n}\n\ntype Curriculum {\n  curriculum_id: String!\n  curriculum_name_en: String!\n  curriculum_name_th: String!\n  dept_id: String!\n  faculty_id: String!\n  id: ID!\n  level_id: String!\n  students: [Student]!\n}\n\n\"\"\"\nThe javascript `Date` as string. Type represents date and time as the ISO Date string.\n\"\"\"\nscalar DateTime\n\ntype Department {\n  department_id: String!\n  department_name_en: String!\n  department_name_th: String!\n  faculty_id: String!\n  id: ID!\n  students: [Student]!\n}\n\ntype Faculty {\n  faculty_id: ID!\n  faculty_name_en: String!\n  faculty_name_th: String!\n  students: [Student]!\n}\n\ntype FileUpload {\n  createdAt: DateTime!\n  current_name: String\n  id: String!\n  job_id: Job!\n  original_name: String\n  updatedAt: DateTime!\n  url: String\n}\n\ninput GetWithKeyInput {\n  target: String\n  value: String\n}\n\ntype Job {\n  company_id: Company\n  compensation: String\n  coordinator_email: String\n  coordinator_job_title: String\n  coordinator_name: String\n  coordinator_phone_number: String\n  created_at: DateTime!\n  file_upload: [FileUpload]!\n  id: String!\n  internship_period: String\n  job_title: String\n  limit: String\n  nature_of_work: String\n  project_topic: String\n  required_major: String\n  required_skills: String\n  students: [Student]!\n  supervisor_email: String\n  supervisor_job_title: String\n  supervisor_name: String\n  supervisor_phone_number: String\n  updated_at: DateTime!\n  welfare: String\n  work_period: String\n}\n\ninput JobInputByCommittee {\n  company_id: String\n  compensation: String\n  coordinator_email: String\n  coordinator_job_title: String\n  coordinator_name: String\n  coordinator_phone_number: String\n  internship_period: String\n  job_title: String\n  limit: String\n  nature_of_work: String\n  project_topic: String\n  required_major: String\n  required_skills: String\n  supervisor_email: String\n  supervisor_job_title: String\n  supervisor_name: String\n  supervisor_phone_number: String\n  welfare: String\n  work_period: String\n}\n\ninput JobInputByCompany {\n  compensation: String\n  coordinator_email: String\n  coordinator_job_title: String\n  coordinator_name: String\n  coordinator_phone_number: String\n  internship_period: String\n  job_title: String\n  limit: String\n  nature_of_work: String\n  project_topic: String\n  required_major: String\n  required_skills: String\n  supervisor_email: String\n  supervisor_job_title: String\n  supervisor_name: String\n  supervisor_phone_number: String\n  welfare: String\n  work_period: String\n}\n\ninput LanguageAbility {\n  level: String!\n  name: String!\n}\n\ntype Mutation {\n  applyJob(apply_info: StudentApplyJobInput!): Student\n  committeeAddRegisterStudent(committee_register_coop_input: CommitteeCoopRegisterArgs!): Student\n  CommitteeAssignStudent(advisor_id: String!, student_list: [String]!): Advisor\n  committeeChangeCoopStatus(status: String!, student_id: String!): Student!\n  createAnnouncement(announcement_info: AnnouncementInput!): Announcement\n  createCompany(company_info: CompanyInput!): Company\n  createJobByCommittee(file: Upload!, job_info: JobInputByCommittee!): Job\n  createJobByCommitteeNoFile(job_info: JobInputByCommittee!): Job\n  createJobByCompany(file: Upload!, job_info: JobInputByCompany!): Job\n  createJobByCompanyNoFile(job_info: JobInputByCompany!): Job\n  createProgressReport(progress_report_arg: ProgressReportInput!): ProgressReport\n  deleteAdvisorAccount(id: String!): Account\n  deleteAnnouncement(announcement_id: String!): Announcement\n  deleteCompany(delete_by_id: String!): Company\n  deleteCompanyPersonAccount(id: String!): Account\n  deleteJob(job_id: String!): Job\n  deleteProgressReport(report_id: String!): ProgressReport\n  registerAdvisor(advisorAccountInfo: AdvisorAccountInput!): Account!\n  registerCompanyPerson(CompanyPersonAccountInfo: CompanyPersonInput!): Account!\n  signIn(email: String!, password: String!): AuthData\n  studentDeleteById(student_id: String!): Student\n  studentRegister(student_register_input: StudentRegisterInput!): Account!\n  studentRegisterCoop(language_abilities: [LanguageAbility!], register_coop_input: CoopRegisterArgs!, skills: [Skill!], transcript_file: Upload): Student\n  updateAccount(updateInfo: UpdateAdvisorInput!): Advisor!\n  updateAnnouncement(update_input: UpdateAnnouncementInput!): Announcement\n  updateCompany(update_input: UpdateCompanyInput!): Company\n  updateCompanyPerson(update_input: UpdateCompanyPersonInput!): CompanyPerson\n  updateJob(update_input: UpdateJobInput!): Job\n  uploadFile(file: Upload!): FileUpload\n}\n\ntype ProgressReport {\n  advisement_score: Float!\n  commute_score: Float!\n  createdAt: DateTime!\n  current_res: String!\n  mentor_lastname: String\n  mentor_name: String\n  mentor_position: String\n  other_suggest: String!\n  progress_report_id: String!\n  report_no: Float!\n  student_id: Student!\n  updatedAt: DateTime!\n  work_score: Float!\n}\n\ninput ProgressReportInput {\n  advisement_score: Float!\n  commute_score: Float!\n  current_res: String!\n  mentor_lastname: String\n  mentor_name: String\n  mentor_position: String\n  other_suggest: String!\n  work_score: Float!\n}\n\ntype Query {\n  getAccount(account_id: String!): Account\n  getAccounts: [Account]!\n  getAdvisorAccount(advisor_id: String!): Account\n  getAdvisorAccounts: [Account]!\n  getAllCompanies: [Company]!\n  getAllJob: [Job]!\n  getAnnouncement(with_key: GetWithKeyInput!): Announcement\n  getAnnouncements: [Announcement]!\n  getCompanyById(company_id: String!): Company\n  getCompanyByKey(with_key: GetWithKeyInput!): Company\n  getCompanyPersonAccount(account_id: String!): Account\n  getCompanyPersonAccounts: [Account]!\n  getJobById(job_id: String!): Job\n  getMe: Account\n  getProgressReport(id: String!): ProgressReport\n  getProgressReports: [ProgressReport]!\n  getStudent(student_id: String!): Student\n  getStudents: [Student]!\n  getStudentsApply: [Student]!\n  getStudentsByDepartment(department_id: String!): [Student!]\n}\n\n\"\"\"type of user\"\"\"\nenum Role {\n  ADVISOR\n  COMMITTEE\n  COMPANY\n  STUDENT\n}\n\ninput Skill {\n  level: String!\n  skill_name: String!\n}\n\ntype Student {\n  account: Account!\n  address: String\n  advisor: Advisor\n  birth_date: String\n  citizen_id: String\n  coop_status: CoopStatus!\n  created_at: DateTime!\n  curriculum: Curriculum\n  department: Department\n  driver_license: Boolean\n  emer_lastname: String\n  emer_name: String\n  emer_relation: String\n  emer_tel: String\n  faculty: Faculty\n  gender: String\n  gpa: String\n  height: String\n  job: [Job]!\n  language_abilities: [StudentLanguageAbility]!\n  lastname_eng: String!\n  lastname_th: String\n  military_status: Boolean\n  name_eng: String!\n  name_prefix: String\n  name_th: String\n  phone_number: String\n  progress_report: [ProgressReport]!\n  religion: String\n  skills: [StudentSkills]!\n  student_id: ID!\n  transcript: TranscriptFileUpload\n  updated_at: DateTime!\n  weight: String\n}\n\ninput StudentApplyJobInput {\n  job_id: String!\n}\n\ntype StudentLanguageAbility {\n  id: ID!\n  level: String!\n  name: String!\n}\n\ninput StudentRegisterInput {\n  email: String!\n  lastname_eng: String!\n  name_eng: String!\n  password: String!\n  student_id: String!\n}\n\ntype StudentSkills {\n  id: ID!\n  level: String!\n  skill_name: String!\n}\n\ntype TranscriptFileUpload {\n  created_at: DateTime!\n  current_name: String\n  id: String!\n  original_name: String\n  student_id: Student!\n  updated_at: DateTime!\n  url: String\n}\n\ninput UpdateAdvisorInput {\n  faculty: String!\n  id: String\n  is_committee: Boolean!\n  last_name: String!\n  name: String!\n}\n\ninput UpdateAnnouncementInput {\n  desc: String!\n  id: String!\n  title: String!\n}\n\ninput UpdateCompanyInput {\n  address: String!\n  business_type: String!\n  district: String!\n  id: String!\n  name_eng: String!\n  name_th: String!\n  phone_number: String!\n  postal_code: String!\n  province: String!\n  sub_district: String!\n  website_url: String!\n}\n\ninput UpdateCompanyPersonInput {\n  email: String!\n  full_name: String!\n  id: String\n  is_coordinator: Boolean!\n  job_title: String!\n  phone_number: String!\n}\n\ninput UpdateJobInput {\n  compensation: String\n  coordinator_email: String\n  coordinator_job_title: String\n  coordinator_name: String\n  coordinator_phone_number: String\n  id: String!\n  internship_period: String\n  job_title: String\n  limit: String\n  nature_of_work: String\n  project_topic: String\n  required_major: String\n  required_skills: String\n  supervisor_email: String\n  supervisor_job_title: String\n  supervisor_name: String\n  supervisor_phone_number: String\n  welfare: String\n  work_period: String\n}\n\n\"\"\"The `Upload` scalar type represents a file upload.\"\"\"\nscalar Upload\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/schema.gql b/schema.gql
--- a/schema.gql	
+++ b/schema.gql	
@@ -19,32 +19,43 @@
 
 type Advisor {
   account: Account!
+  advisor_assessment: [AdvisorAssessment]!
   advisor_id: String!
   announcements: [Announcement]!
   created_at: DateTime!
-  department: String!
-  faculty: String!
+  curriculum: Curriculum
+  department: Department
+  faculty: Faculty
   is_committee: Boolean!
   last_name: String!
+  last_name_en: String!
   name: String!
+  name_en: String!
   name_prefix: String
   students: [Student]!
   updated_at: DateTime!
 }
 
 input AdvisorAccountInput {
-  department: String!
   email: String!
-  faculty: String!
-  is_committee: Boolean!
+  is_committee: String!
   last_name: String!
   name: String!
   name_prefix: String!
-  password: String!
+}
+
+type AdvisorAssessment {
+  advisor: Advisor
+  assessment_obj: JSONObject!
+  created_at: DateTime!
+  id: String!
+  score: Float!
+  student: Student
+  updated_at: DateTime!
 }
 
 type Announcement {
-  advisor_id: Advisor!
+  advisor_id: Advisor
   createdAt: DateTime!
   description: String!
   id: String!
@@ -57,6 +68,11 @@
   title: String!
 }
 
+input AssignJobInput {
+  job_id: String!
+  student_id: String!
+}
+
 type AuthData {
   created_at: DateTime!
   email: String!
@@ -93,6 +109,7 @@
 type Company {
   address: String!
   business_type: String!
+  company_assessment: [CompanyAssessment]!
   company_persons: [CompanyPerson]!
   created_at: DateTime!
   district: String!
@@ -108,6 +125,18 @@
   website_url: String!
 }
 
+type CompanyAssessment {
+  assessment_obj: JSONObject!
+  company: Company
+  created_at: DateTime!
+  id: String!
+  improvement: String
+  score: Float!
+  strength: String
+  student: Student
+  updated_at: DateTime!
+}
+
 input CompanyInput {
   address: String!
   business_type: String!
@@ -143,6 +172,15 @@
   password: String!
   phone_number: String!
 }
+
+input CompanyPersonWithCompanyNameInput {
+  company_name: String!
+  email: String!
+  full_name: String!
+  is_coordinator: Boolean!
+  job_title: String!
+  phone_number: String!
+}
 
 input CoopRegisterArgs {
   address: String
@@ -186,7 +224,24 @@
   SAVED
 }
 
+input CreateAdvisorAssessmentInput {
+  advisor_id: String!
+  assessment_obj: JSONObject!
+  score: Float!
+  student_id: String!
+}
+
+input CreateCompanyAssessmentInput {
+  assessment_obj: JSONObject!
+  company_id: String!
+  improvement: String
+  score: Float!
+  strength: String
+  student_id: String!
+}
+
 type Curriculum {
+  advisors: [Advisor]!
   curriculum_id: String!
   curriculum_name_en: String!
   curriculum_name_th: String!
@@ -203,6 +258,7 @@
 scalar DateTime
 
 type Department {
+  advisors: [Advisor]!
   department_id: String!
   department_name_en: String!
   department_name_th: String!
@@ -211,7 +267,19 @@
   students: [Student]!
 }
 
+input EditJobStateInput {
+  student_apply_job_id: String!
+}
+
+input EditScoreInput {
+  score_advisor: Float!
+  score_company: Float!
+  score_presentation: Float!
+  student_id: String!
+}
+
 type Faculty {
+  advisors: [Advisor]!
   faculty_id: ID!
   faculty_name_en: String!
   faculty_name_th: String!
@@ -250,6 +318,7 @@
   project_topic: String
   required_major: String
   required_skills: String
+  student_apply_job: [StudentApplyJob]!
   students: [Student]!
   supervisor_email: String
   supervisor_job_title: String
@@ -303,6 +372,11 @@
   work_period: String
 }
 
+"""
+The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
+"""
+scalar JSONObject @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")
+
 input LanguageAbility {
   level: String!
   name: String!
@@ -310,11 +384,19 @@
 
 type Mutation {
   applyJob(apply_info: StudentApplyJobInput!): Student
+  cancelApply(cancel_apply_info: StudentApplyJobInput!): StudentApplyJob
   committeeAddRegisterStudent(committee_register_coop_input: CommitteeCoopRegisterArgs!): Student
+  committeeApproveJob(committee_approve_info: EditJobStateInput!): StudentApplyJob
+  committeeAssignJob(committee_assignjob_info: AssignJobInput!): StudentApplyJob
   CommitteeAssignStudent(advisor_id: String!, student_list: [String]!): Advisor
   committeeChangeCoopStatus(status: String!, student_id: String!): Student!
+  committeeDisapproveJob(committee_disapprove_info: EditJobStateInput!): StudentApplyJob
+  companyApproveJob(company_approve_info: EditJobStateInput!): StudentApplyJob
+  companyDisapproveJob(company_disapprove_info: EditJobStateInput!): StudentApplyJob
+  createAdvisorAssessment(advisor_assessment_info: CreateAdvisorAssessmentInput!): Student
   createAnnouncement(announcement_info: AnnouncementInput!): Announcement
   createCompany(company_info: CompanyInput!): Company
+  createCompanyAssessment(company_assessment_info: CreateCompanyAssessmentInput!): Student
   createJobByCommittee(file: Upload!, job_info: JobInputByCommittee!): Job
   createJobByCommitteeNoFile(job_info: JobInputByCommittee!): Job
   createJobByCompany(file: Upload!, job_info: JobInputByCompany!): Job
@@ -328,11 +410,21 @@
   deleteProgressReport(report_id: String!): ProgressReport
   registerAdvisor(advisorAccountInfo: AdvisorAccountInput!): Account!
   registerCompanyPerson(CompanyPersonAccountInfo: CompanyPersonInput!): Account!
+  registerCompanyPersonByCommittee(CompanyPersonAccountInfo: CompanyPersonWithCompanyNameInput!): Account!
+  setScoreStudent(set_score_info: EditScoreInput!): Student
   signIn(email: String!, password: String!): AuthData
+  studentAcceptJob(student_accept_info: EditJobStateInput!): StudentApplyJob
   studentDeleteById(student_id: String!): Student
   studentRegister(student_register_input: StudentRegisterInput!): Account!
   studentRegisterCoop(language_abilities: [LanguageAbility!], register_coop_input: CoopRegisterArgs!, skills: [Skill!], transcript_file: Upload): Student
-  updateAccount(updateInfo: UpdateAdvisorInput!): Advisor!
+  studentRejectJob(student_reject_info: EditJobStateInput!): StudentApplyJob
+  undoCommitteeApproveJob(undo_committee_approve_info: EditJobStateInput!): StudentApplyJob
+  undoCommitteeDisapproveJob(undo_committee_disapprove_info: EditJobStateInput!): StudentApplyJob
+  undoCompanyApproveJob(undo_company_approve_info: EditJobStateInput!): StudentApplyJob
+  undoCompanyDisapproveJob(undo_company_disapprove_info: EditJobStateInput!): StudentApplyJob
+  undoStudentAcceptJob(undo_student_accept_info: EditJobStateInput!): StudentApplyJob
+  undoStudentRejectJob(undo_student_reject_info: EditJobStateInput!): StudentApplyJob
+  updateAdvisorAccount(updateInfo: UpdateAdvisorArgs!): Account!
   updateAnnouncement(update_input: UpdateAnnouncementInput!): Announcement
   updateCompany(update_input: UpdateCompanyInput!): Company
   updateCompanyPerson(update_input: UpdateCompanyPersonInput!): CompanyPerson
@@ -343,16 +435,17 @@
 type ProgressReport {
   advisement_score: Float!
   commute_score: Float!
-  createdAt: DateTime!
+  created_at: DateTime!
   current_res: String!
-  mentor_lastname: String
+  mentor_email: String
   mentor_name: String
   mentor_position: String
+  mentor_tel: String
   other_suggest: String!
   progress_report_id: String!
   report_no: Float!
   student_id: Student!
-  updatedAt: DateTime!
+  updated_at: DateTime!
   work_score: Float!
 }
 
@@ -360,9 +453,10 @@
   advisement_score: Float!
   commute_score: Float!
   current_res: String!
-  mentor_lastname: String
+  mentor_email: String
   mentor_name: String
   mentor_position: String
+  mentor_tel: String
   other_suggest: String!
   work_score: Float!
 }
@@ -372,8 +466,11 @@
   getAccounts: [Account]!
   getAdvisorAccount(advisor_id: String!): Account
   getAdvisorAccounts: [Account]!
+  getAllAdvisorAssessment: [AdvisorAssessment]!
   getAllCompanies: [Company]!
+  getAllCompanyAssessment: [CompanyAssessment]!
   getAllJob: [Job]!
+  getAllStudentApplyJob: [StudentApplyJob]!
   getAnnouncement(with_key: GetWithKeyInput!): Announcement
   getAnnouncements: [Announcement]!
   getCompanyById(company_id: String!): Company
@@ -396,6 +493,7 @@
   COMMITTEE
   COMPANY
   STUDENT
+  SUPER_ADMIN
 }
 
 input Skill {
@@ -407,8 +505,10 @@
   account: Account!
   address: String
   advisor: Advisor
+  advisor_assessment: AdvisorAssessment
   birth_date: String
   citizen_id: String
+  company_assessment: CompanyAssessment
   coop_status: CoopStatus!
   created_at: DateTime!
   curriculum: Curriculum
@@ -422,7 +522,7 @@
   gender: String
   gpa: String
   height: String
-  job: [Job]!
+  job: Job
   language_abilities: [StudentLanguageAbility]!
   lastname_eng: String!
   lastname_th: String
@@ -433,13 +533,26 @@
   phone_number: String
   progress_report: [ProgressReport]!
   religion: String
+  score_from_advisor: Float
+  score_from_company: Float
+  score_from_presentation: Float
   skills: [StudentSkills]!
+  student_apply_job: [StudentApplyJob]!
   student_id: ID!
   transcript: TranscriptFileUpload
   updated_at: DateTime!
   weight: String
 }
 
+type StudentApplyJob {
+  created_at: DateTime!
+  id: String!
+  job: Job
+  job_status: String
+  student: Student
+  updated_at: DateTime!
+}
+
 input StudentApplyJobInput {
   job_id: String!
 }
@@ -474,12 +587,10 @@
   url: String
 }
 
-input UpdateAdvisorInput {
-  faculty: String!
-  id: String
+input UpdateAdvisorArgs {
+  account_id: String!
+  advisor_status: String!
   is_committee: Boolean!
-  last_name: String!
-  name: String!
 }
 
 input UpdateAnnouncementInput {
